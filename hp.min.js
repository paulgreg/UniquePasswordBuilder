!function(){function e(){var e=localStorage.domains;return e=e?JSON.parse(e):[]}function t(e,t){return function(e,t,i){if(i>=e.length)for(var n=i-e.length+1;n--;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e}(e,t,0)}function i(i){var n=e(),a=n.indexOf(i);-1!==a?t(n,a):n.unshift(i),localStorage.domains=JSON.stringify(n)}function n(){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(u);var t=e(),a=0===t.length||hideSensitiveData.checked;d.style.display=a?"none":"block",a||t.map(function(t){if(""!==t){var a=document.createElement("li"),o=document.createElement("a"),l=document.createElement("a");o.innerText=t,o.className="domain",l.innerText="remove",l.className="remove",o.addEventListener("click",function(e){c.value=e,i(e),n(),compute()}.bind(null,t),!1),l.addEventListener("click",function(t){var i=e(),a=i.indexOf(t);i.splice(a,1),localStorage.domains=JSON.stringify(i),n()}.bind(null,t),!1),a.appendChild(o),a.appendChild(l),u.appendChild(a)}})}var a=document.getElementById("displayInfos"),o=document.getElementById("infos"),l=function(e){e&&e.preventDefault(),o.classList.remove("hidden"),a.classList.add("hidden")};-1!==window.location.hash.indexOf("pwa")?(o.classList.add("hidden"),a.classList.remove("hidden")):l();save=function(){localStorage.algorithm=algorithmInput.value,localStorage.difficulty=difficultyScryptInput.value,localStorage.difficultyArgon2=difficultyArgon2Input.value,localStorage.usersalt=usersaltInput.value,localStorage.hideSensitiveData=hideSensitiveData.checked,localStorage.options=!optionsDiv.classList.contains("hidden")};a.addEventListener("click",l,!1),document.getElementById("copyBookmarkletToClipboard").addEventListener("click",function(){var e="javascript:(function(){"+("argon2"===algorithmInput.value?"window.uniquePasswordBuilderAlgorithm='argon2';window.uniquePasswordBuilderDifficulty='"+difficultyArgon2Input.value+"';window.salt='"+usersaltInput.value+"';window.argon2AsmPath='"+window.location.href+"';":"window.uniquePasswordBuilderAlgorithm='scrypt';window.uniquePasswordBuilderDifficulty='"+difficultyScryptInput.value+"';window.uniquePasswordBuilderKeyIndex='"+usersaltInput.value+"';")+"document.body.appendChild(document.createElement('script')).src='"+window.location.href+"upb.min.js';})();";copyTextToClipboard(e)},!1);var r=/^https?:\/\/(?:[^\/?]+)/i,c=document.querySelector("#url");c.addEventListener("change",function(e){if(r.test(c.value)){i(r.exec(c.value)[0]),n()}},!1),hideSensitiveData.addEventListener("change",n,!1);var d=document.querySelector("#domainsTitle"),u=document.querySelector("#domains");algorithmInput.value=localStorage.algorithm||UniquePasswordBuilder.SCRYPT,difficultyScryptInput.value=localStorage.difficulty||8192,hideSensitiveData.checked="true"===localStorage.hideSensitiveData,hideData(),localStorage.difficultyArgon2&&(difficultyArgon2Input.value=10|localStorage.difficultyArgon2),localStorage.usersalt&&(usersaltInput.value=localStorage.usersalt),"true"===localStorage.options&&optionsDiv.classList.remove("hidden"),changeAlgorithm(),n(),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then(function(){console.log("service worker registration complete")},function(e){console.log("service worker registration failure:",e)})}();